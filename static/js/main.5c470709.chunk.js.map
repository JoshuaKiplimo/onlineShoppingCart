{"version":3,"sources":["CartItem.js","reducer.js","context.js","data.js","Navbar.js","CartContainer.js","App.js","index.js"],"names":["CartItem","id","img","title","price","amount","useGlobalContext","remove","cartSizeChange","className","src","alt","onClick","xmlns","viewBox","d","reducer","state","action","type","cart","filter","item","payload","change","tempCart","map","console","log","reduce","cartTotal","total","parseFloat","toFixed","loading","cartData","Error","AppContext","React","createContext","initialState","AppProvider","children","useReducer","dispatch","useState","number","fetchData","a","fetch","response","json","useEffect","Provider","value","clearCart","useContext","Navbar","CartContainer","length","key","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5c470709.chunk.js","sourcesContent":["import React from \"react\";\nimport { useGlobalContext } from \"./context\";\n//const { deleteItem, increaseItem, decreaseItem } = useGlobalContext();\n\nconst CartItem = ({ id, img, title, price, amount }) => {\n  //console.log(deleteItem);\n  const { remove, cartSizeChange } = useGlobalContext();\n  return (\n    <article className=\"cart-item\">\n      <img src={img} alt={title} />\n      <div>\n        <h4>{title}</h4>\n        <h4 className=\"item-price\">${price}</h4>\n        {/* remove button */}\n        <button className=\"remove-btn\" onClick={() => remove(id)}>\n          remove\n        </button>\n      </div>\n      <div>\n        {/* increase amount */}\n        <button\n          className=\"amount-btn\"\n          onClick={() => cartSizeChange(\"increase\", id)}\n        >\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n            <path d=\"M10.707 7.05L10 6.343 4.343 12l1.414 1.414L10 9.172l4.243 4.242L15.657 12z\" />\n          </svg>\n        </button>\n        {/* amount */}\n        <p className=\"amount\">{amount}</p>\n        {/* decrease amount */}\n        <button\n          className=\"amount-btn\"\n          onClick={() => cartSizeChange(\"decrease\", id)}\n        >\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n            <path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\" />\n          </svg>\n        </button>\n      </div>\n    </article>\n  );\n};\n\nexport default CartItem;\n","import CartItem from \"./CartItem\";\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"CLEAR_CART\":\n      return { ...state, cart: [] };\n    case \"REMOVE\":\n      return {\n        ...state,\n        cart: state.cart.filter((item) => item.id !== action.payload),\n      };\n    case \"CART_SIZE_CHANGE\":\n      if (action.payload.change == \"increase\") {\n      }\n      let tempCart = state.cart\n        .map((item) => {\n          if (\n            item.id == action.payload.id &&\n            action.payload.change === \"increase\"\n          ) {\n            console.log(\"increase\");\n            return { ...item, amount: item.amount + 1 };\n          } else if (\n            item.id == action.payload.id &&\n            action.payload.change === \"decrease\"\n          ) {\n            console.log(\"decrease\");\n            return { ...item, amount: item.amount - 1 };\n          }\n          return item;\n        })\n        .filter((item) => item.amount >= 1);\n      console.log(tempCart);\n      return { ...state, cart: tempCart };\n    case \"GET_TOTAL\":\n      let { total, amount } = state.cart.reduce(\n        (cartTotal, item) => {\n          const { price, amount } = item;\n          cartTotal.amount += amount;\n          cartTotal.total += amount * price;\n\n          return cartTotal;\n        },\n        { total: 0, amount: 0 }\n      );\n      total = parseFloat(total.toFixed(2));\n      return {\n        ...state,\n        total,\n        amount,\n      };\n    case \"LOADING\":\n      return { ...state, loading: true };\n    case \"DISPLAY_DATA\":\n      return { ...state, cart: action.payload.cartData, loading: false };\n\n    default:\n      throw new Error(\"no matching action type\");\n  }\n};\n\nexport default reducer;\n","import React, { useState, useContext, useReducer, useEffect } from \"react\";\nimport cartItems from \"./data\";\nimport reducer from \"./reducer\";\n// ATTENTION!!!!!!!!!!\n// I SWITCHED TO PERMANENT DOMAIN\nconst url = \"https://course-api.com/react-useReducer-cart-project\";\nconst AppContext = React.createContext();\n\nconst initialState = {\n  loading: false,\n  cart: cartItems,\n  total: 0,\n  amount: 0,\n};\n\nconst AppProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const [numberOfItems, setnumberOfItems] = useState({ number: 1, id: \"\" });\n  const clearCart = () => {\n    dispatch({ type: \"CLEAR_CART\" });\n  };\n  const remove = (id) => {\n    dispatch({ type: \"REMOVE\", payload: id });\n  };\n  const cartSizeChange = (change, id) => {\n    dispatch({ type: \"CART_SIZE_CHANGE\", payload: { id, change } });\n  };\n\n  const fetchData = async () => {\n    dispatch({ type: \"LOADING\" });\n    const response = await fetch(url);\n    const cartData = await response.json();\n    dispatch({ type: \"DISPLAY_DATA\", payload: { cartData } });\n  };\n  useEffect(() => {\n    fetchData();\n  }, []);\n  useEffect(() => {\n    dispatch({ type: \"GET_TOTAL\" });\n\n    return () => {};\n  }, [state.cart]);\n  return (\n    <AppContext.Provider\n      value={{\n        ...state,\n        clearCart,\n        remove,\n        cartSizeChange,\n      }}\n    >\n      {children}\n    </AppContext.Provider>\n  );\n};\n// make sure use\nexport const useGlobalContext = () => {\n  return useContext(AppContext);\n};\n\nexport { AppContext, AppProvider };\n","export default [\n  {\n    id: 1,\n    title: 'Samsung Galaxy S7',\n    price: 599.99,\n    img:\n      'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368215/phone-2_ohtt5s.png',\n    amount: 1,\n  },\n  {\n    id: 2,\n    title: 'google pixel ',\n    price: 499.99,\n    img:\n      'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583371867/phone-1_gvesln.png',\n    amount: 1,\n  },\n  {\n    id: 3,\n    title: 'Xiaomi Redmi Note 2',\n    price: 699.99,\n    img:\n      'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368224/phone-3_h2s6fo.png',\n    amount: 1,\n  },\n];\n","import React from \"react\";\nimport { useGlobalContext } from \"./context\";\nconst Navbar = () => {\n  const { amount } = useGlobalContext();\n  return (\n    <nav>\n      <div className=\"nav-center\">\n        <h3>useReducer</h3>\n        <div className=\"nav-container\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n            <path d=\"M16 6v2h2l2 12H0L2 8h2V6a6 6 0 1 1 12 0zm-2 0a4 4 0 1 0-8 0v2h8V6zM4 10v2h2v-2H4zm10 0v2h2v-2h-2z\" />\n          </svg>\n          <div className=\"amount-container\">\n            <p className=\"total-amount\">{amount}</p>\n          </div>\n        </div>\n      </div>\n    </nav>\n  );\n};\n\nexport default Navbar;\n","import React from \"react\";\nimport CartItem from \"./CartItem\";\nimport { useGlobalContext } from \"./context\";\n\nconst CartContainer = () => {\n  const { cart, total, clearCart } = useGlobalContext();\n  if (cart.length === 0) {\n    return (\n      <section className=\"cart\">\n        {/* cart header */}\n        <header>\n          <h2>your bag</h2>\n          <h4 className=\"empty-cart\">is currently empty</h4>\n        </header>\n      </section>\n    );\n  }\n  return (\n    <section className=\"cart\">\n      {/* cart header */}\n      <header>\n        <h2>your bag</h2>\n      </header>\n      {/* cart items */}\n      <div>\n        {cart.map((item) => {\n          return <CartItem key={item.id} {...item} />;\n        })}\n      </div>\n      {/* cart footer */}\n      <footer>\n        <hr />\n        <div className=\"cart-total\">\n          <h4>\n            total <span>{total}</span>\n          </h4>\n        </div>\n        <button className=\"btn clear-btn\" onClick={clearCart}>\n          clear cart\n        </button>\n      </footer>\n    </section>\n  );\n};\n\nexport default CartContainer;\n","import React from \"react\";\nimport { useGlobalContext } from \"./context\";\n\n// components\nimport Navbar from \"./Navbar\";\nimport CartContainer from \"./CartContainer\";\n// items\n\nfunction App() {\n  const { loading } = useGlobalContext();\n  if (loading) {\n    return (\n      <div className=\"loading\">\n        <h1>Loading...</h1>\n      </div>\n    );\n  }\n  return (\n    <main>\n      <Navbar />\n      <CartContainer />\n    </main>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { AppProvider } from './context';\nReactDOM.render(\n  <React.StrictMode>\n    <AppProvider>\n      <App />\n    </AppProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}